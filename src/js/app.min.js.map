{"version":3,"sources":["app.min.js"],"names":["validator","form","flag","check","i","length","name","test","value","n","document","getElementById","onsubmit","event","preventDefault","target","data","FormData","xhr","XMLHttpRequest","open","send","console","log","response","responseText"],"mappings":"AAAA,cAKA,WAgBE,QAASA,GAAUC,GAGjB,IAAK,GAFDC,IAAO,EACPC,GAAS,OAAQ,QAAS,WACrBC,EAAI,EAAGA,EAAIH,EAAKI,OAAQD,IAAK,CAIf,UAAjBH,EAAKG,GAAGE,MAAqB,0BAA0BC,KAAKN,EAAKG,GAAGI,SACtEN,GAAO,GAGY,UAAjBD,EAAKG,GAAGE,MAAoBL,EAAKG,GAAGI,MAAMH,OAAS,IACrDH,GAAO,EAGT,KAAK,GAAIO,GAAI,EAAGA,EAAIN,EAAME,OAAQI,IACV,KAAlBR,EAAKG,GAAGI,OAAgBP,EAAKG,GAAGE,OAASH,EAAMM,KACjDP,GAAO,EAIX,IAAID,EAAKI,SAAWD,EAAI,EACtB,MAAOF,IArCmC,OAA5CQ,SAASC,eAAe,kBAC1BD,SAASC,eAAe,gBAAgBC,SAAW,SAAUC,GAC3DA,EAAMC,gBACN,IAAIb,GAAOY,EAAME,OACbC,EAAO,GAAIC,UAAShB,GACpBiB,EAAM,GAAIC,eAEVnB,GAAUC,KACZiB,EAAIE,KAAK,OAAQ,WAAW,GAC5BF,EAAIG,KAAKL,GACTM,QAAQC,IAAIL,EAAIM,UAChBF,QAAQC,IAAIL,EAAIO","file":"app.min.js","sourcesContent":["'use strict';\n//TODO log/handle server response\n//TODO highlight errors\n//TODO sucess message, etc.\n\n(function () {\n  if (document.getElementById('contact-form') !== null) {\n    document.getElementById('contact-form').onsubmit = function (event) {\n      event.preventDefault();\n      var form = event.target;\n      var data = new FormData(form);\n      var xhr = new XMLHttpRequest();\n      // Validate form\n      if (validator(form)) {\n        xhr.open('post', '/submit', true);\n        xhr.send(data);\n        console.log(xhr.response);\n        console.log(xhr.responseText);\n      }\n    };\n  }\n  function validator(form) {\n    var flag = true;\n    var check = ['name', 'email', 'comment'];\n    for (var i = 0; i < form.length; i++) {\n      // Sanitize input\n\n      // Check for something that resembles an email address\n      if (form[i].name === 'email' && !/(.+)@(.+){2,}\\.(.+){2,}/.test(form[i].value)) {\n        flag = false;\n      }\n      // Check honey pot\n      if (form[i].name === 'topic' && form[i].value.length > 0) {\n        flag = false;\n      }\n      // Check visible fields for input\n      for (var n = 0; n < check.length; n++) {\n        if (form[i].value === '' && form[i].name === check[n]) {\n          flag = false;\n        }\n      }\n      // Return once we finish looping\n      if (form.length === i + 1) {\n        return flag;\n      }\n    }\n  }\n})();"]}